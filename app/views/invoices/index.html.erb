<div class="container">
    <%= render 'layouts/head' %>
<div class="row">
    <p class="space"><%= link_to "Add a Invoice", new_invoice_path, class: "btn btn-sm btn-success" %></p>
    <p class="space"><%= link_to "Back to Clients", clients_path, class: "btn btn-sm btn-primary" %></p>
    <p><%= link_to "Sign Out", destroy_partner_session_path, method: :delete, :class=>"btn btn-sm btn-danger" %></p>
</div>


<table class="table">
    <thead class="thead-light">
        <tr>
            <th scope="col">Invoice Number</th>
            <th scope="col">Invoice Date</th>
            <th scope="col">Due Date</th>
            <th scope="col">Amount Due</th>
        </tr>
    </thead>    
    <% for invoice in @invoices %>    
    <tr>
      <td><%= invoice.invoice_number %></td>
      <td><%= invoice.invoice_date %></td>
      <td><%= invoice.due_date %></td>
      <td><%= invoice.total_amount %></td>
      <td><%= link_to "View", invoice_path(invoice), class: "btn btn-warning" %></td>
      <td><%= link_to "Edit", edit_invoice_path(invoice), class: "btn btn-warning" %></td>
      <td><%= link_to "Delete", invoice_path(invoice), method: :delete, data: {confirm: "Are you sure you want to delete this invoice? This cannot be undone."}, class: "btn btn-secondary" %></td>      
    </tr>
      <% for service in invoice.services %>
        <%= service.name %>
        <%= service.baserate %>
        <%= service.amount %>
      <% end %>
    <% end %>        

    <%# @invoices.each do |invoice| %>
        <!--tr>
            <td><%#= invoice.invoice_number %></td>
            <td><%#= invoice.invoice_date %></td>
            <td><%#= invoice.due_date %></td>
            <td><%#= invoice.total_amount %></td>
            <!--td><%#= link_to "Edit", edit_invoice_path(invoice), class: "btn btn-warning" %></td>
            <td><%#= link_to "Delete", invoice_path(invoice), method: :delete, data: {confirm: "Are you sure you want to delete this invoice? This cannot be undone."}, class: "btn btn-secondary" %></td>
        </tr-->
    <%# end %>
</table>
</div>